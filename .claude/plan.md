# エネルギーUP色鑑定書生成システム - 実装計画

## 概要

占い師がパターン(1〜12)を選択するだけで鑑定書の雛形を生成・印刷できるWebシステムを、30分程度のサブタスクに分解して実装します。

## サブタスク一覧

### タスク1: パターンデータ型定義と12パターンのデータ作成 (約20分)

**目的**: 業務仕様に基づく12パターンのデータを型安全に定義する

**作業内容**:
- `src/lib/types.ts` を作成し、以下の型を定義
  - `PatternNumber`: 1〜12のリテラル型
  - `Color`: 各色名のユニオン型
  - `PatternData`: パターンデータ全体の型
- `src/lib/patterns.ts` を作成し、12パターンのデータを定義
- 業務仕様の表を基にデータを作成（インテリアアドバイスも含む）

**成果物**:
- `src/lib/types.ts`
- `src/lib/patterns.ts`

---

### タスク2: ルーティング構造の作成 (約15分)

**目的**: 選択画面とプレビュー画面のルーティングを構築する

**作業内容**:
- `src/routes/__root.tsx` を確認・必要に応じて更新
- `src/routes/index.tsx`: パターン選択画面
- `src/routes/results.$pattern.tsx`: プレビュー画面（パターン番号をパスパラメータで受取）

**成果物**:
- ルーティング構造の完成

---

### タスク3: パターン選択画面UIの実装 (約30分)

**目的**: モバイルファーストで操作しやすい選択画面を作成

**作業内容**:
- 12個のパターン選択ボタンを配置
- グリッドレイアウト（モバイル: 2列、PC: 3〜4列）
- 各ボタンにはパターン番号を大きく表示
- Panda CSS / Tailwind CSSでスタイリング

**成果物**:
- `src/routes/index.tsx` のUI完成

---

### タスク4: 鑑定書プレビュー画面のレイアウト実装（ベース）(約30分)

**目的**: 鑑定書の基本レイアウトを構築する

**作業内容**:
- A4縦相当のレイアウト構造
- ヘッダー（タイトル「エネルギーUP色 鑑定書」）
- 各セクションの枠組み
- 印刷用マージン設定

**成果物**:
- `src/routes/results.$pattern.tsx` の基本レイアウト

---

### タスク5: 自動生成項目コンポーネントの実装 (約30分)

**目的**: パターンに基づく自動生成項目を表示する

**作業内容**:
- エネルギーが落ちる年の表示
- 6色のエネルギーUP色（自分色、やる気色、精神安定色、決断色、健康色、経済色）
- タブー色（薬色）
- インテリアアドバイス（箇条書きで表示）

**成果物**:
- 各自動生成項目の表示

---

### タスク6: 手書き項目スペースの実装 (約20分)

**目的**: 印刷後に記入するためのスペースを設ける

**作業内容**:
- 依頼者の名前・生年月日用スペース
- 守護色用スペース
- 今年のラッキー・タブーカラー用スペース
- 下線または枠線で記入箇所を明示

**成果物**:
- 手書き項目スペースの実装

---

### タスク7: 印刷用CSSの実装 (約30分)

**目的**: A4サイズで綺麗に印刷できるようにする

**作業内容**:
- `@media print` の実装
- A4サイズ(210mm x 297mm)への調整
- ページ区切り制御（1ページに収める）
- インク節約のための色調整
- 印刷時の不要な要素（ナビゲーション等）を非表示

**成果物**:
- 印刷用CSSの完成

---

### タスク8: 色表示コンポーネントの実装 (約25分)

**目的**: 各色を視覚的にわかりやすく表示する

**作業内容**:
- 色名に対応するカラーサンプル表示
- パステルカラー等の具体的な色値定義
- 色見本＋色名の組み合わせ表示
- 白背景でも読みやすい文字色の設定

**成果物**:
- 色表示の視覚的な改善

---

## 実装の順序

上記タスクを順番に実行します。各タスク完了後、次のタスクに進むか、ユーザーに確認を取ります。

## 技術的注意点

- **モバイルファースト**: スマートフォンでの操作を最優先
- **インク節約**: 白基調、不要なベタ塗りを避ける
- **型安全**: TypeScriptの厳格モードを活用
- **TanStack Router**: ファイルベースルーティングに従う
