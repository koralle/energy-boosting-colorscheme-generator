# 要件

このドキュメントではアプリケーションの機能要件、非機能要件を定義します。

## 前提

このドキュメントは[業務要件](./business-requirements.md)の内容を把握していることを前提として記述しています。

## アプリケーション概要

このプロジェクトの成果物（以下、本アプリケーション）は、  
占い師が特定のパターンをブラウザ上で選択するだけで「エネルギーUP色」の鑑定書の雛形を素早く生成・印刷できる業務支援Webシステムです。

## ユーザー/アクター
  
* 占い師
* 依頼者

### 占い師

占い師はアプリケーションを通じて以下の操作を実行します。

* 本アプリケーションを使用し、鑑定書の雛形を作成する
* 作成した雛形を紙に印刷する
* 印刷した雛形に残りの必要事項を記入し、鑑定書として完成させる
* 完成した紙の鑑定書を依頼者に渡し、鑑定結果について口頭で説明する

### 依頼者

* 占い師に対して、鑑定に必要な情報を事前に伝える
* 占い師から紙の鑑定書を受け取り、鑑定結果について口頭で説明を受ける

## 鑑定項目の取り扱い

鑑定書に含まれる各項目の入力・生成方法は以下の通りです。  
本アプリケーションはパターン選択に基づいて「自動生成」される項目を鑑定書の雛形に入力します。  
その他の項目については「手書き用のスペース」を設けた雛形を出力します。

|    | 項目                             | 生成方法       | 備考                         |
| :- | :---                             | :---           | :---                         |
|  1 | **依頼者の名前・生年月日**       | **手書き**     | 印刷後に占い師が記入         |
|  2 | **パターン番号 (1〜12)**         | **アプリ入力** | 占い師がアプリ上で選択       |
|  3 | エネルギーが落ちる年             | 自動生成       | パターン番号に基づき自動反映 |
|  4 | エネルギーUP色（自分色など6種）  | 自動生成       | パターン番号に基づき自動反映 |
|  5 | **守護色**                       | **手書き**     | 印刷後に占い師が記入         |
|  6 | タブー色（薬色）                 | 自動生成       | パターン番号に基づき自動反映 |
|  7 | インテリアのアドバイス           | 自動生成       | パターン番号に基づき自動反映 |
|  8 | **今年のラッキー・タブーカラー** | **手書き**     | 印刷後に占い師が記入         |

## 機能要件

### 入力機能

* **パターン選択**: 業務仕様に基づく12パターンから一つを選択する機能。

### 表示・出力機能

* **プレビュー機能**: 選択したパターンに基づき、鑑定書のレイアウトで自動生成項目が反映された状態を確認できる機能。
* **出力レイアウト**: 
  * 自動生成項目は適切な配色・テキストで配置する。
  * 手書き項目については記入しやすいよう、適切な余白や下線、枠線を設けた状態で出力すること。
* **印刷用出力**: ブラウザの印刷機能・PDF出力によって、A4サイズなどで綺麗に印刷できる形式で表示する機能。

## 非機能要件

### ユーザビリティ

* **操作の最小化**: パターン選択のみで鑑定書の雛形が完成するよう、アプリケーション操作を極限まで減らすこと。
* **スマートフォン最適化**: スマートフォンで操作しやすいボタンサイズやレイアウトであること。

### デザイン・印刷効率

* **説得力のあるデザイン**: 依頼者にとって、鑑定結果が従来よりも高い説得力を持つような、清潔感と専門性のあるビジュアルであること。
* **印刷コストの最適化**: 
  * インク消費量を抑えるため、白地を基調とし、不要なベタ塗りを避けたデザインにすること。
  * カラーインクの消費を抑えつつも、エネルギーUP色が正しく伝わる配色にすること。
* **モバイルファースト**: スマートフォンでの閲覧・操作を最優先に設計すること。

### パフォーマンス/環境

#### 動作環境

* **ターゲットデバイス**: スマートフォンを最優先とし、タブレット端末及びPCでも動作すること
* **推奨ブラウザ**:
  * iOS: Safari（最新版）
  * Android: Google Chrome（最新版）
  * PC: Google Chrome, Microsoft Edge, Firefox, Safari （各最新版）
* **画面解像度**: スマートフォンの標準的な解像度でレイアウトが崩れないこと

#### パフォーマンス基準

* **ロード時間**: 標準的な4G環境において、[Core Web Vitals](https://www.hostinger.com/tutorials/core-web-vitals)における3つの指標を達成するように目指すこと（必達ではない）
* **印刷制御**: A4サイズ1ページに収まるようCSSで制御し、ブラウザの印刷プレビューが正しく表示されること

#### ネットワーク条件

* **安定性**: 常時接続を前提とするが、一時的な瞬断で入力データが消えないようにする（可能であればクライアントサイドで処理を完結させる）こと

## 画面構成・UIの流れ

T.B.D 

## 将来的な検討事項（あれば）

T.B.D

