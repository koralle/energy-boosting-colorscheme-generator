# フェーズ3: デザイン - 構造からUIへの変換

## 1. 論理UIデザイン (抽象プロトタイピング)

3つの画面（入力・プレビュー・完了）を持つ画面遷移型のアプリケーションとして構成します。

### 画面構成要素 (ワイヤーフレーム定義)

#### 1. 入力画面 (Pattern Selection Screen)
アプリのトップページ。12個のパターンから正しいものを間違いなく選ばせるためのリスト画面。

*   **Header**: アプリタイトル。
*   **Instruction**: 「鑑定結果（エネルギーが落ちる年）を選択してください」等のガイド文。
*   **Pattern List (Grid/List)**: 1〜12のパターンを選択するカード型リスト。
    *   **各カードの表示内容**:
        *   **パターン番号**: 大きく表示（視認性確保）。
        *   **エネルギーが落ちる年**: 判定のキーとなる情報（例：「子・丑 (-)、天中殺」など）。最も重要。
        *   **主要な色**: 識別しやすいよう、タブー色などをアイコン的に表示してもよい。
    *   **Interaction**: カードをタップすると即座にプレビュー画面へ遷移する（または選択→次へボタン）。

#### 2. プレビュー画面 (Preview Screen)
選択結果が反映された鑑定書を確認し、印刷する画面。

*   **Navigation Bar**:
    *   **Back Button**: 「< 戻る」 入力画面に戻って選び直す。
*   **Preview Area**: A4用紙の縮小イメージ。
    *   スマホ画面の幅に合わせてスケーリング表示する。
    *   ピンチイン・アウトで拡大縮小できると尚良し。
    *   （表示内容は前述の「鑑定書雛形」と同様）
*   **Action Area (Bottom Sticky)**:
    *   **Print Button**: 「この内容で印刷する」ボタン。目立つように配置。
        *   押下するとブラウザの印刷ダイアログが開く。
        *   印刷ダイアログ終了後、完了画面へ遷移する（技術的に検知不可の場合は、ボタン押下後に「印刷しましたか？」ダイアログを出すか、手動で「次へ」進む）。

#### 3. 完了画面 (Completion Screen)
一連のタスクが終了したことを示し、次のアクションを促す画面。

*   **Message**: 「印刷が完了しました」
*   **Next Action**:
    *   **Top Button**: 「次の人を鑑定する（トップへ戻る）」

### レイアウト・レスポンシブ方針

*   **共通**:
    *   モバイルファーストで設計し、各要素はタッチしやすいサイズ（min 44px）を確保する。
*   **入力画面**:
    *   モバイル: 1カラムのリスト、または2カラムのグリッド。
    *   PC: 3〜4カラムのグリッド表示。
*   **プレビュー画面**:
    *   画面中央にA4プレビューを配置。
    *   モバイルでは横幅100%に合わせて縮小。
    *   PCでは実寸に近いサイズ、または画面高さに合わせて表示。
*   **印刷用CSS (`@media print`)**:
    *   プレビュー画面でのみ有効。
    *   ヘッダー、フッター、ボタン類を全て隠す。
    *   プレビューエリア（`.print-area`）のみを表示し、A4サイズ、余白0設定などを強制する。

### 画面遷移図

`[ Selection Screen ]`
   | (Tap Pattern Card)
   v
`[ Preview Screen ]`
   | (Tap Print Button -> System Print Dialog)
   | (After Print Action)
   v
`[ Completion Screen ]`
   | (Tap "New Session")
   v
`[ Selection Screen ]`
